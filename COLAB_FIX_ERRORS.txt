================================================================================
  üîß FIX COLAB ERRORS - QUICK SOLUTIONS
================================================================================

B·∫†N G·∫∂P 2 ERRORS:
1. ‚ùå faiss-gpu installation failed
2. ‚ùå Kh√¥ng th·∫•y dataset folder

‚Üí D·ªÑ FIX! FOLLOW ƒê√ÇY! ‚úÖ

================================================================================
ERROR 1: FAISS-GPU INSTALLATION FAILED
================================================================================

NGUY√äN NH√ÇN:
Colab free tier kh√¥ng h·ªó tr·ª£ faiss-gpu t·ªët

GI·∫¢I PH√ÅP:
D√πng faiss-cpu thay v√¨ faiss-gpu!

--------------------------------------------------------------------------------
TRONG COLAB - THAY TH·∫æ CELL 4:
--------------------------------------------------------------------------------

X√ìA CELL 4 C≈® (c√≥ code: !pip install faiss-gpu -q)

T·∫†O CELL 4 M·ªöI v·ªõi code n√†y:

```python
# Install Dependencies (FIXED VERSION)
!pip install -r requirements.txt -q

# Fix: Use faiss-cpu instead of faiss-gpu
# (Colab free tier compatible)
!pip uninstall faiss-gpu -y
!pip install faiss-cpu==1.7.4

print("‚úÖ Dependencies installed!")
print("‚úÖ faiss-cpu installed successfully!")
```

RUN CELL N√ÄY ‚Üí ‚úÖ ERROR FIXED!

================================================================================
ERROR 2: KH√îNG TH·∫§Y DATASET FOLDER
================================================================================

NGUY√äN NH√ÇN:
Folder ch∆∞a ƒë∆∞·ª£c t·∫°o

GI·∫¢I PH√ÅP:
T·∫°o folder v√† upload files!

--------------------------------------------------------------------------------
B∆Ø·ªöC 1: T·∫†O DATASET FOLDER
--------------------------------------------------------------------------------

Trong Colab, t·∫°o cell m·ªõi v√† run:

```python
import os

# Create dataset folder
dataset_path = "/content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw"
os.makedirs(dataset_path, exist_ok=True)

print(f"‚úÖ Dataset folder created!")
print(f"üìÅ Path: {dataset_path}")
print(f"\nüì§ Next: Upload your 12 vocal files here!")
```

‚Üí FOLDER CREATED! ‚úÖ

--------------------------------------------------------------------------------
B∆Ø·ªöC 2: UPLOAD FILES V√ÄO DATASET
--------------------------------------------------------------------------------

OPTION A: DIRECT UPLOAD (5-10 MINS)
------------------------------------

1. B√™n tr√°i Colab, click icon Files üìÅ

2. Navigate ƒë·∫øn folder:
   Retrieval-based-Voice-Conversion-WebUI/dataset/raw/

3. Click icon Upload üì§ (g√≥c tr√™n)

4. Ch·ªçn 12 files t·ª´: C:\Mood-based-Recommender\dataset\raw\

5. Click Open

6. ƒê·ª£i upload (5-10 mins, 548 MB)

‚Üí DONE! ‚úÖ


OPTION B: GOOGLE DRIVE (NHANH H∆†N! RECOMMENDED!)
-------------------------------------------------

STEP 1: Upload l√™n Drive (l√†m tr√™n m√°y):

1. M·ªü Google Drive
2. T·∫°o folder m·ªõi: My Drive/RVC_Dataset/
3. Upload 12 vocals files v√†o folder n√†y
4. ƒê·ª£i upload xong (~5 mins)

STEP 2: Mount Drive (trong Colab):

T·∫°o cell m·ªõi v√† run:

```python
from google.colab import drive
drive.mount('/content/drive')

print("‚úÖ Google Drive mounted!")
```

Click link ‚Üí Authorize ‚Üí Paste code ‚Üí Enter

STEP 3: Copy files t·ª´ Drive (trong Colab):

```python
# Copy all vocals from Drive to Colab dataset
!cp /content/drive/MyDrive/RVC_Dataset/*.wav \
   /content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/

print("‚úÖ Files copied from Drive!")
```

‚Üí FASTER & EASIER! ‚úÖ

--------------------------------------------------------------------------------
B∆Ø·ªöC 3: VERIFY FILES UPLOADED
--------------------------------------------------------------------------------

Run cell n√†y ƒë·ªÉ check:

```python
# List files in dataset folder
!ls -lh /content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/

# Count files
import os
files = os.listdir('/content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/')
wav_files = [f for f in files if f.endswith('.wav')]

print(f"\n‚úÖ Found {len(wav_files)} vocal files!")
print(f"Expected: 12 files")

if len(wav_files) >= 10:
    print("üéâ Dataset ready for training!")
else:
    print("‚ö†Ô∏è Need at least 10 files!")
```

EXPECTED OUTPUT:
```
Found 12 vocal files!
Expected: 12 files
üéâ Dataset ready for training!
```

‚Üí IF YOU SEE THIS: READY! ‚úÖ

================================================================================
UPDATED WORKFLOW - CELLS TO RUN
================================================================================

SAU KHI FIX 2 ERRORS TR√äN, CH·∫†Y C√ÅC CELLS THEO TH·ª® T·ª∞:

‚úÖ Cell 1: Check GPU
   !nvidia-smi

‚úÖ Cell 2: Clone RVC
   !git clone ...

‚úÖ Cell 3: Change directory
   %cd Retrieval-based-Voice-Conversion-WebUI

‚úÖ Cell 4: Install dependencies (FIXED VERSION)
   !pip install faiss-cpu==1.7.4

‚úÖ Cell 5: Download pre-trained models
   !wget ...

‚úÖ NEW CELL: Create dataset folder
   !mkdir -p dataset/raw

‚úÖ NEW CELL: Upload files (Option A or B)
   - Direct upload OR
   - Google Drive copy

‚úÖ NEW CELL: Verify upload
   !ls -lh dataset/raw/

‚úÖ Cell 11: Process audio
   !python infer/modules/train/preprocess.py ...

‚úÖ Cell 12: Extract pitch
   !python infer/modules/train/extract/extract_f0_rmvpe.py ...

‚úÖ Cell 13: Extract features
   !python infer/modules/train/extract/extract_feature_print.py ...

‚úÖ Cell 14: Build index
   !python infer/modules/train/train_index.py ...

‚úÖ Cell 16: START TRAINING! (4-5 gi·ªù)
   !python infer/modules/train/train.py ...

‚Üí FOLLOW THIS ORDER! ‚úÖ

================================================================================
QUICK FIX COMMANDS - COPY & PASTE
================================================================================

N·∫øu l∆∞·ªùi, copy to√†n b·ªô cells n√†y v√†o Colab:

--------------------------------------------------------------------------------
CELL 1: FIX FAISS
--------------------------------------------------------------------------------
```python
!pip uninstall faiss-gpu -y
!pip install faiss-cpu==1.7.4
print("‚úÖ faiss-cpu installed!")
```

--------------------------------------------------------------------------------
CELL 2: CREATE DATASET FOLDER
--------------------------------------------------------------------------------
```python
import os
os.makedirs("/content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw", exist_ok=True)
print("‚úÖ Dataset folder created!")
```

--------------------------------------------------------------------------------
CELL 3: MOUNT GOOGLE DRIVE (RECOMMENDED)
--------------------------------------------------------------------------------
```python
from google.colab import drive
drive.mount('/content/drive')
print("‚úÖ Drive mounted! Now upload 12 files to: My Drive/RVC_Dataset/")
```

--------------------------------------------------------------------------------
CELL 4: COPY FROM DRIVE TO COLAB
--------------------------------------------------------------------------------
```python
!cp /content/drive/MyDrive/RVC_Dataset/*.wav \
   /content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/
print("‚úÖ Files copied!")
```

--------------------------------------------------------------------------------
CELL 5: VERIFY DATASET
--------------------------------------------------------------------------------
```python
!ls -lh /content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/
import os
files = os.listdir('/content/Retrieval-based-Voice-Conversion-WebUI/dataset/raw/')
print(f"\n‚úÖ Total files: {len([f for f in files if f.endswith('.wav')])}")
```

‚Üí RUN THESE 5 CELLS IN ORDER! ‚úÖ

================================================================================
TROUBLESHOOTING
================================================================================

ISSUE: "No such file or directory: dataset/raw"
------------------------------------------------
Solution: Run cell 2 above to create folder

ISSUE: "Drive not mounted"
---------------------------
Solution: 
1. Run cell 3
2. Click authorization link
3. Copy code
4. Paste and enter

ISSUE: "cp: cannot stat"
------------------------
Solution: 
1. Check files exist in Drive: My Drive/RVC_Dataset/
2. Check spelling/path correct
3. Use absolute path

ISSUE: Upload too slow (Direct upload)
---------------------------------------
Solution: Use Google Drive method instead! (10x faster)

ISSUE: "Permission denied"
--------------------------
Solution:
1. !chmod +x dataset/raw/
2. Or use Drive method

================================================================================
AFTER FIXES - CONTINUE TRAINING
================================================================================

SAU KHI 2 ERRORS FIXED:

1. ‚úÖ faiss-cpu installed
2. ‚úÖ Dataset uploaded (12 files)

NEXT:

1. Run Cell 11: Preprocess audio (5 mins)
   ‚Üí Split & resample

2. Run Cell 12: Extract pitch (5 mins)
   ‚Üí F0 extraction

3. Run Cell 13: Extract features (10 mins)
   ‚Üí HuBERT features

4. Run Cell 14: Build index (2 mins)
   ‚Üí FAISS index

5. Run Cell 16: START TRAINING! (4-5 gi·ªù)
   ‚Üí Model training

‚Üí JUST FOLLOW NOTEBOOK AFTER THESE FIXES! ‚úÖ

================================================================================
TIMELINE AFTER FIXES
================================================================================

‚úÖ Fix errors: 5 mins (done now!)
‚úÖ Upload dataset: 5-10 mins (via Drive)
‚è≥ Preprocessing: 20 mins (4 steps)
‚è≥ Training: 4-5 gi·ªù (passive!)
‚è≥ Download model: 5 mins

TOTAL: ~5.5 gi·ªù (30 mins active work)

‚Üí BY TONIGHT: SINGING VOICE MODEL! üé§

================================================================================
NEED HELP?
================================================================================

If still stuck:

1. Screenshot the error
2. Tell me which cell failed
3. I'll help debug!

Common fixes:
‚úÖ faiss-gpu ‚Üí faiss-cpu
‚úÖ Create dataset folder
‚úÖ Use Google Drive for faster upload
‚úÖ Check file paths

‚Üí YOU'RE ALMOST THERE! üí™

================================================================================
SUMMARY
================================================================================

2 QUICK FIXES:

1. Replace faiss-gpu with faiss-cpu
   ‚Üí Run: !pip install faiss-cpu==1.7.4

2. Create dataset folder & upload files
   ‚Üí Use Google Drive method (fastest!)

THEN:

‚Üí Continue with training cells!
‚Üí 4-5 gi·ªù later: SINGING VOICE! üé§

YOU GOT THIS! üöÄ
